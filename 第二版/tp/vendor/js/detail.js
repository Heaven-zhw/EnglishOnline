var AccountingConf = "<select class=\"ddlOne\"><option value=\"\"></option><option value=\"借\">借</option><option value=\"贷\">贷</option></select>";
AccountingConf += "<select class=\"ddlTwo\" style=\"margin-left:10px;\">";
AccountingConf += "<option value=''></option>";
AccountingConf += "<option value='1'>资产类</option>";
AccountingConf += "<option value='1-1'>----库存现金</option>";
AccountingConf += "<option value='1-2'>----银行存款</option>";
AccountingConf += "<option value='1-3'>----其他货币资金</option>";
AccountingConf += "<option value='1-4'>----交易性金融资产</option>";
AccountingConf += "<option value='1-4-1|1-4'>--------成本</option>";
AccountingConf += "<option value='1-4-2|1-4'>--------公允价值变动</option>";
AccountingConf += "<option value='1-5'>----应收票据</option>";
AccountingConf += "<option value='1-6'>----应收账款</option>";
AccountingConf += "<option value='1-7'>----应收股利</option>";
AccountingConf += "<option value='1-8'>----应收利息</option>";
AccountingConf += "<option value='1-9'>----预付账款</option>";
AccountingConf += "<option value='1-10'>----其他应收款</option>";
AccountingConf += "<option value='1-11'>----坏账准备</option>";
AccountingConf += "<option value='1-12'>----材料采购</option>";
AccountingConf += "<option value='1-13'>----在途物资</option>";
AccountingConf += "<option value='1-14'>----原材料</option>";
AccountingConf += "<option value='1-15'>----材料成本差异</option>";
AccountingConf += "<option value='1-16'>----库存商品</option>";
AccountingConf += "<option value='1-17'>----商品进销差价</option>";
AccountingConf += "<option value='1-18'>----委托加工物资</option>";
AccountingConf += "<option value='1-19'>----周转材料</option>";
AccountingConf += "<option value='1-20'>----包装物</option>";
AccountingConf += "<option value='1-21'>----低值易耗品</option>";
AccountingConf += "<option value='1-22'>----存货跌价准备</option>";
AccountingConf += "<option value='1-23'>----持有到期投资</option>";
AccountingConf += "<option value='1-24'>----持有到期投资减值准备</option>";
AccountingConf += "<option value='1-25'>----长期股权投资</option>";
AccountingConf += "<option value='1-26'>----长期投资减值准备</option>";
AccountingConf += "<option value='1-27'>----投资性房地产</option>";
AccountingConf += "<option value='1-28'>----长期应收款</option>";
AccountingConf += "<option value='1-29'>----可供出售金融资产</option>";
AccountingConf += "<option value='1-30'>----固定资产</option>";
AccountingConf += "<option value='1-31'>----累计折旧</option>";
AccountingConf += "<option value='1-32'>----固定资产减值准备</option>";
AccountingConf += "<option value='1-33'>----工程物资</option>";
AccountingConf += "<option value='1-34'>----在建工程</option>";
AccountingConf += "<option value='1-35'>----固定资产清理</option>";
AccountingConf += "<option value='1-36'>----无形资产</option>";
AccountingConf += "<option value='1-37'>----无形资产减值准备</option>";
AccountingConf += "<option value='1-38'>----累计摊销</option>";
AccountingConf += "<option value='1-39'>----商誉</option>";
AccountingConf += "<option value='1-40'>----长期待摊费用</option>";
AccountingConf += "<option value='1-41'>----递延所得税资产</option>";
AccountingConf += "<option value='1-42'>----待处理财产损溢</option>";
AccountingConf += "<option value='1-42-1|1-42'>--------待处理流动资产损溢</option>";
AccountingConf += "<option value='1-42-2|1-42'>--------待处理非流动资产损溢</option>";
AccountingConf += "<option value='2'>负债类</option>";
AccountingConf += "<option value='2-1'>----短期借款</option>";
AccountingConf += "<option value='2-2'>----应付票据</option>";
AccountingConf += "<option value='2-3'>----应付账款</option>";
AccountingConf += "<option value='2-4'>----预收账款</option>";
AccountingConf += "<option value='2-5'>----应付职工薪酬</option>";
AccountingConf += "<option value='2-5-1|2-5'>--------工资</option>";
AccountingConf += "<option value='2-5-2|2-5'>--------福利费</option>";
AccountingConf += "<option value='2-6'>----应交税费</option>";
AccountingConf += "<option value='2-6-1|2-6'>--------应交增值税（进项税额）</option>";
AccountingConf += "<option value='2-6-2|2-6'>--------应交增值税（销项税额）</option>";
AccountingConf += "<option value='2-6-3|2-6'>--------应交教育费附加</option>";
AccountingConf += "<option value='2-6-4|2-6'>--------应交营业税</option>";
AccountingConf += "<option value='2-6-5|2-6'>--------应交所得税</option>";
AccountingConf += "<option value='2-6-6|2-6'>--------应交城市维护建设税</option>";
AccountingConf += "<option value='2-7'>----应付股利</option>";
AccountingConf += "<option value='2-8'>----应付利息</option>";
AccountingConf += "<option value='2-9'>----其他应付款</option>";
AccountingConf += "<option value='2-10'>----长期借款</option>";
AccountingConf += "<option value='2-11'>----应付债券</option>";
AccountingConf += "<option value='2-12'>----长期应付款</option>";
AccountingConf += "<option value='3'>所有者权益</option>";
AccountingConf += "<option value='3-1'>----实收资本（或股本）</option>";
AccountingConf += "<option value='3-2'>----资本公积</option>";
AccountingConf += "<option value='3-3'>----盈余公积</option>";
AccountingConf += "<option value='3-3-1|3-3'>--------法定盈余公积</option>";
AccountingConf += "<option value='3-3-2|3-3'>--------任意盈余公积</option>";
AccountingConf += "<option value='3-4'>----本年利润</option>";
AccountingConf += "<option value='3-5'>----利润分配</option>";
AccountingConf += "<option value='3-5-1|3-5'>--------未分配利润</option>";
AccountingConf += "<option value='3-5-2|3-5'>--------提取法定盈余公积</option>";
AccountingConf += "<option value='3-5-3|3-5'>--------提取任意盈余公积</option>";
AccountingConf += "<option value='4'>成本类</option>";
AccountingConf += "<option value='4-1'>----生产成本</option>";
AccountingConf += "<option value='4-2'>----劳务成本</option>";
AccountingConf += "<option value='4-3'>----制造费用</option>";
AccountingConf += "<option value='4-4'>----研发支出</option>";
AccountingConf += "<option value='5'>损益类</option>";
AccountingConf += "<option value='5-1'>----主营业务收入</option>";
AccountingConf += "<option value='5-2'>----利息收入</option>";
AccountingConf += "<option value='5-3'>----其他业务收入</option>";
AccountingConf += "<option value='5-4'>----公允价值变动损益</option>";
AccountingConf += "<option value='5-5'>----投资收益</option>";
AccountingConf += "<option value='5-6'>----营业外收入</option>";
AccountingConf += "<option value='5-7'>----主营业务成本</option>";
AccountingConf += "<option value='5-8'>----其他业务成本</option>";
AccountingConf += "<option value='5-9'>----营业税金及附加</option>";
AccountingConf += "<option value='5-10'>----销售费用</option>";
AccountingConf += "<option value='5-11'>----管理费用</option>";
AccountingConf += "<option value='5-12'>----财务费用</option>";
AccountingConf += "<option value='5-13'>----资产减值损失</option>";
AccountingConf += "<option value='5-14'>----营业外支出</option>";
AccountingConf += "<option value='5-15'>----所得税费用</option>";
AccountingConf += "<option value='5-16'>----以前年度损益调整</option>";
AccountingConf += "</select>";
AccountingConf += "<input type=\"text\" style=\"margin-left:10px;\" class=\"AccountValue\"><span style=\"margin-left:10px;\"><input class=\"AcountAdd\" type=\"button\" value=\"+\" style=\"cursor:pointer;\">&nbsp;<input class=\"AcountDelete\" type=\"button\" value=\"-\" style=\"cursor:pointer;\"></span>";


//案例模板


function ChoiceWenanAndAnswer(objQuest, sonQuest, showTypeName) {

    var htmlStr = "";

    htmlStr += " <div style=\"height:20px;\" class=\"contentleftconttitletop\" titlenumber=\"" + itemNumber + "\"   data-type=\"" + objQuest.typeNo + "\"  questiontypes=\"1\"   showTypeID=\"" + objQuest.showTypeID + "\"  ></div> <div class=\"DetailTitlecontent\" id=\"" + objQuest.iD + "\" data-id=\"" + objQuest.iD + "\"  questiontypes=\"1\"  showTypeID=\"" + objQuest.showTypeID + "\"  titlenumber=\"" + itemNumber + "\" data-type=\"" + objQuest.typeNo + "\">";
    //父题题干
    htmlStr += "<div class=\"DetailTitletitle\">";

    htmlStr += "<div class=\"DetailTitletitlecont\"><h4><i>" + itemNumber + "[" + showTypeName + "]</i><span>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span> </h4>";
    htmlStr += "</div>";



    var sonQuestBoxStr = "";
    //alert(JSON.stringify( objQuest));
    var tempAnswer = ""; //答案选项
    var ckanswer = ""; //参考答案
    var num = 0;
    if (Tid != "2") {

        for (var i = 0; i < sonQuest.length; i++) {
            if (sonQuest[i].parentID == objQuest.iD) {
                for (var q = 0; q < sonQuest[i].questData.length; q++) {

                    if (sonQuest[i].questData[q].typeNo == "1" || sonQuest[i].questData[q].typeNo == "2" || sonQuest[i].questData[q].typeNo == "3") {

                        if (sonQuest[i].questData[q].typeNo == "2") {
                            sonQuestBoxStr += "<div id=\"" + sonQuest[i].questData[q].iD + "\"  data-id=\"" + objQuest.iD + "\" class=\"DetailTitletitlecontmoreselect\" data-type=\"" + sonQuest[i].questData[q].typeNo + "\" score=\"" + objQuest.questSource + "\">";
                        } else {
                            sonQuestBoxStr += "<div id=\"" + sonQuest[i].questData[q].iD + "\"  data-id=\"" + objQuest.iD + "\" class=\"DetailTitletitlecont\" data-type=\"" + sonQuest[i].questData[q].typeNo + "\" score=\"" + objQuest.questSource + "\">";
                        }
                        //子题题干

                        sonQuestBoxStr += " <h4><span class=\"number\"> <i>" + (q + 1) + ". </i> " + sonQuest[i].questData[q].titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span></h4>";
                        //选项Start

                        var tempdata = eval("[" + sonQuest[i].questData[q].jsonStr + "]");
                        var curentNum = tempdata[0].options.length; //有多少个选项
                        var tempAnswerData = tempdata[0].answerID.split(',');

                        var choiceOption = ""; //选择块
                        var question_ok = ""; //确定按钮
                        sonQuestBoxStr += "<ul>";

                        var checked = "";
                        if (ExamRecordList != null) {

                            for (var f = 0; f < ExamRecordList.length; f++) {

                                if (ExamRecordList[f].qID == sonQuest[i].questData[q].iD) {
                                    //  alert(ExamRecordList[f].answer);
                                    checked = ExamRecordList[f].answer;
                                    break;
                                }
                            }
                        }
                        var ckanswer = ""; //参考答案
                        for (var w = 0; w < curentNum; w++) {
                            tempAnswer = "0";

                            for (var z = 0; z < tempAnswerData.length; z++) {
                                if (tempAnswerData[z] == tempdata[0].options[w].iD) {
                                    tempAnswer = "1";
                                    ckanswer += optionABCdata[w];
                                    //  break;
                                }
                            }
                            if (checked.indexOf(optionABCdata[w]) != (-1)) {
                                sonQuestBoxStr += "<li class='cont-topic-answer-this'   data-id=\"" + objQuest.iD + "\" data-check=\"1\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[w] + "\"   data-type=\"" + objQuest.typeNo + "\" ><i> " + optionABCdata[w] + "</i><span>" + tempdata[0].options[w].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span></li>";

                                var showtypeid = 60;
                                var titlenumber = itemNumber;
                                var questiontypes = 1;
                                var titletpye = $(".doproblemsnumber .dopronumbercont[titletpye='" + questiontypes + "']").find("li[titlenumber='" + titlenumber + "']");
                                $(titletpye).removeClass("dopronumberconton1");
                                $(titletpye).removeClass("dopronumberconton2");
                                $(titletpye).removeClass("dopronumberconton3");
                                if (showtypeid == 60) {
                                    $(titletpye).addClass("dopronumberconton1");
                                }

                            } else {
                                sonQuestBoxStr += "<li data-id=\"" + objQuest.iD + "\" data-check=\"0\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[w] + "\"   data-type=\"" + objQuest.typeNo + "\" ><i> " + optionABCdata[w] + "</i><span>" + tempdata[0].options[w].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span></li>";
                            }

                        }
                        choiceOption += question_ok;
                        sonQuestBoxStr += "</ul>";
                        sonQuestBoxStr += "</div>";
                        sonQuestBoxStr += "<div class=\"DetailTitletitleanswermoreselect\" data-type=\"" + sonQuest[i].questData[q].typeNo + "\"><ul> " + choiceOption + " </ul></div>";
                        //   alert(ckanswer);
                        sonQuestBoxStr += "<div class=\"a-questionToolbar\"><div class=\"" + sonQuest[i].questData[q].iD + sonQuest[i].questData[q].iD + "\"><div style=\"display:none\" class=\"" + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + "\"><span   class=\"spantext\">参考答案：</span><span class=\"sanwer\"   id=\"" + sonQuest[i].questData[q].iD + sonQuest[i].questData[q].iD + "\"    data-id=\"" + ckanswer + "\">" + ckanswer + "</span>";
                        if (sonQuest[i].questData[q].thinking != "") {
                            sonQuestBoxStr += "<br/><span   class=\"spantext\">解析：</span><span class=\"sanwer\"   id=\"" + sonQuest[i].questData[q].iD + sonQuest[i].questData[q].iD + "\"    data-id=\"" + ckanswer + "\">" + sonQuest[i].questData[q].thinking + "</span></br></br>";
                        }
                        sonQuestBoxStr += " </div></div></div>";

                        //选项End
                    } else if (sonQuest[i].questData[q].typeNo == "29") {
                        var checked = "";
                        if (ExamRecordList != null) {
                            for (var f = 0; f < ExamRecordList.length; f++) {

                                if (ExamRecordList[f].qID == sonQuest[i].questData[q].iD) {

                                    checked = ExamRecordList[f].answer;

                                    $("li[questionid='" + ExamRecordList[f].pDID + "']").addClass("dopronumberconton1");

                                }


                            }



                        }

                        var tempJson = eval("[" + sonQuest[i].questData[q].jsonStr + "]");
                        var tempAnswerData = eval(tempJson[0].answer);

                        sonQuestBoxStr += "<div id=\"" + sonQuest[i].questData[q].iD + "\" class=\"m-sonitem box\"  score=\"" + sonQuest[i].questData[q].score + "\"  data-type=\"" + sonQuest[i].questData[q].typeNo + "\">";
                        sonQuestBoxStr += "<span class=\"number\">" + (q + 1) + ".</span>";

                        sonQuestBoxStr += "<div class=\"f-title\"> <div class=\"m-sonitem_item\"> <input type='text' value=\"" + checked + "\" answer=\"" + tempAnswerData[0].One + "\" class=\"AccountOneValue\" /></div></div>";
                        sonQuestBoxStr += "</div>";

                        sonQuestBoxStr += "<div class=\"a-questionToolbar\"><div class=\"" + sonQuest[i].questData[q].iD + "\" ><div style=\"display:none\" class=\"" + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + "\"><span  class=\"spantext\">参考答案：</span><span class=\"sanwer\">" + tempAnswerData[0].One.replace(/\s/g, "") + "</span></div></div></div>";


                    } else if (sonQuest[i].questData[q].typeNo == "30") {


                        var checked = null;
                        var ckanswer = ""; //参考答案
                        if (ExamRecordList != null) {

                            for (var f = 0; f < ExamRecordList.length; f++) {
                                if (ExamRecordList[f].qID == sonQuest[i].questData[q].iD) {
                                    checked = eval("[" + ExamRecordList[f].answer + "]"); //用户作答记录答案
                                    $("li[questionid='" + ExamRecordList[f].pDID + "']").addClass("dopronumberconton1");
                                    //      break;
                                }

                            }
                        }
                        var tempdata = eval("[" + sonQuest[i].questData[q].jsonStr + "]");
                        var tempAnswerData = eval(tempdata[0].answer);
                        JSFXAnswerData.push(tempdata);
                        sonQuestBoxStr += "<div id=\"" + sonQuest[i].questData[q].iD + "\" class=\"m-sonitem box\" data-type=\"" + sonQuest[i].questData[q].typeNo + "\"  score=\"" + sonQuest[i].questData[q].score + "\"  mode=\"" + tempdata[0].mode + "\">";

                        sonQuestBoxStr += "<span class=\"number\" >" + (q + 1) + ".</span>";
                        //参考答案


                        $("#ceshi").html(AccountingConf);

                        for (var a = 0; a < tempAnswerData.length; a++) {
                            ckanswer += "<p><span style=\"width: 50px;display: block;float: left;\">" + tempAnswerData[a].One + "</span><span style=\"width: 213px;display: block;float: left;\" >" + $("#ceshi  option[value='" + tempAnswerData[a].Two + "']").text() + "</span><span style=\"display: block;float: left;\">" + tempAnswerData[a].Three + "</span></p><br/>";
                        }


                        if (checked != null) {
                            var xuanxiang = "";

                            for (var x = 0; x < checked.length; x++) {
                                $("#SelectCheck").append(AccountingConf); //在隐藏div中添加会计分录选项（用户在次作答时获取选项）
                                if (checked[x].one != "") {
                                    $("#SelectCheck .ddlOne").find("option[value='" + checked[x].one + "']").attr("selected", "selected");
                                    $("#SelectCheck .ddlOne").attr("data-check", "1");
                                }
                                if (checked[x].two != "") {
                                    $("#SelectCheck .ddlTwo").find("option[value='" + checked[x].two + "']").attr("selected", "selected");
                                    $("#SelectCheck .ddlTwo").attr("data-check", "1");
                                }
                                if (checked[x].three != "") {
                                    $("#SelectCheck .AccountValue").attr("value", checked[x].three).attr("data-check", 1);
                                }
                                xuanxiang += "<div class='m-sonitem_item' >" + $("#SelectCheck").html() + "</div>";
                                $("#SelectCheck").empty(); //删除会计分录选项（项已选择需要重新添加）
                            }
                            sonQuestBoxStr += "<div class=\"f-title\">" + xuanxiang + "</div>";
                        } else {
                            sonQuestBoxStr += "<div class=\"f-title\" ><div class=\"m-sonitem_item\" >" + AccountingConf + "</div></div>";
                        }
                        sonQuestBoxStr += "</div>";

                        sonQuestBoxStr += "<div class=\"a-questionToolbar\"><div class=\"m-checkBox multiple\"><div  style=\"display:none\" class=\"" + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + "\" ><span  class=\"spantext\">参考答案：</span><span class=\"sanwer\">" + ckanswer + "</span></div></div></div>";

                    } else if (sonQuest[i].questData[q].typeNo == "31") {
                        //选词填空
                        var checked = "";

                        if (ExamRecordList != null) {
                            for (var f = 0; f < ExamRecordList.length; f++) {

                                if (ExamRecordList[f].qID == sonQuest[i].questData[q].iD) {

                                    checked = ExamRecordList[f].answer;

                                    $("li[questionid='" + ExamRecordList[f].pDID + "']").addClass("dopronumberconton1");
                                    break;

                                }
                            }
                        }


                        //选项Start
                        var tempdata = eval("[" + sonQuest[i].questData[q].jsonStr + "]");
                        var curentNum = tempdata[0].options.length;
                        //有多少个选项
                        var tempAnswerData = tempdata[0].answerID.split(",");
                        //  sonQuestBoxStr += "<div class='cont-topic-content-gauge' data-id=\"" + sonQuest[i].questData[q].iD + "\">";
                        sonQuestBoxStr += " <span>" + (q + 1) + "." + sonQuest[i].questData[q].titleHTML + "</span>   <ul data-type='31' id=\"" + sonQuest[i].questData[q].iD + "\" data-id='" + sonQuest[i].questData[q].iD + "' class='DetailTitletitReadingSelect' score=\"" + objQuest.questSource + "\">";



                        var choiceOption = "";
                        //选择块
                        var ckanswer = "";
                        //参考答案
                        var question_ok = "";
                        //确定按钮
                        for (var w = 0; w < curentNum; w++) {
                            tempAnswer = "0";
                            for (var z = 0; z < tempAnswerData.length; z++) {
                                if (tempAnswerData[z] == tempdata[0].options[w].iD) {
                                    tempAnswer = "1";
                                    ckanswer += optionABCdata[w];
                                }
                            }
                            try {

                                if (ckanswer == optionABCdata[w]) {
                                    if (checked.indexOf(optionABCdata[w]) != (-1)) {

                                        sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '"   class="cont-topic-answer-this"> <i   data-check="1"  answer="' + tempAnswer + '"   data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                                    }
                                    else {

                                        sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '" > <i  answer="' + tempAnswer + '"  data-check="0" data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                                    }
                                }
                                else {
                                    if (checked.indexOf(optionABCdata[w]) != (-1)) {

                                        sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '"   class="cont-topic-answer-this"> <i   data-check="1"  answer="' + tempAnswer + '"   data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                                    } else {
                                        sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '" > <i  answer="' + tempAnswer + '"  data-check="0" data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                                    }

                                }
                            } catch (e) {
                                sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '" > <i  answer="' + tempAnswer + '"  data-check="0" data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                            }

                        }
                        sonQuestBoxStr += "</ul>  ";

                        try {
                            sonQuestBoxStr += " <div class='DetailTitletitReadingYouranswer DetailTitletitReadingYouranswerthis'>   <div  class='DetailTitletitReadingYouranswerthis'  style=\"display:none\"><span>【参考答案】</span><b>" + ckanswer + "</b></div>   	</div> "; //<div><span>【你的答案】</span><b>A</b></div>
                        } catch (e) {

                        }

                        num++;
                    }
                }
                if (num > 0) {
                    htmlStr = "";

                    htmlStr += " <div style=\"height:20px;\" class=\"contentleftconttitletop\" titlenumber=\"" + itemNumber + "\"   data-type=\"" + objQuest.typeNo + "\"  questiontypes=\"1\"   showTypeID=\"" + objQuest.showTypeID + "\"  ></div> <div class=\"DetailTitlecontent\" id=\"" + objQuest.iD + "\" data-id=\"" + objQuest.iD + "\"  questiontypes=\"1\"  showTypeID=\"" + objQuest.showTypeID + "\"  titlenumber=\"" + itemNumber + "\" data-type=\"" + objQuest.typeNo + "\">";
                    //父题题干
                    htmlStr += "<div class=\"DetailTitletitle\">";

                    htmlStr += "<div class=\"DetailTitletitReading\"><h4><i>" + itemNumber + "[" + showTypeName + "]</i><span>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span> </h4>";

                }
                break;
            }
        }


    } else {

        var number = 1; //子题编号
        var childnumber = 0;
        // console.log(sonQuest);
        for (var i = 0; i < sonQuest.length; i++) {
            if (sonQuest[i].question.parentID == objQuest.iD) {
                //console.log(sonQuest);
                Itemscore = sonQuest[i].quesScore;


                if (sonQuest[i].question.typeNo == "1" || sonQuest[i].question.typeNo == "2" || sonQuest[i].question.typeNo == "3") {
                    //子题题干
                    sonQuestBoxStr += "<div id=\"" + sonQuest[i].question.iD + "\"  data-id=\"" + objQuest.iD + "\" class=\"DetailTitletitlecont\" data-type=\"" + sonQuest[i].question.typeNo + "\" score=\"" + Itemscore + "\">";
                    sonQuestBoxStr += " <h4><span class=\"number\"> <i>" + number + ". </i> " + sonQuest[i].question.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span></h4>";
                    number++;



                    //选项Start
                    var tempdata = eval("[" + sonQuest[i].question.jsonStr + "]");
                    var curentNum = tempdata[0].options.length; //有多少个选项
                    var tempAnswerData = tempdata[0].answerID.split(',');
                    var choiceOption = ""; //选择块
                    var question_ok = ""; //确定按钮

                    //sonQuestBoxStr += "<div class=\"m-choicebox box\" data-type=\"" + sonQuest[i].question.typeNo + "\">";
                    sonQuestBoxStr += "<ul>";

                    var checked = "";
                    if (ExamRecordList != null) {

                        for (var f = 0; f < ExamRecordList.length; f++) {
                            if (ExamRecordList[f].qID == sonQuest[i].question.iD) {
                                checked = ExamRecordList[f].answer;
                                break;
                            }
                        }
                    }
                    var ckanswer = ""; //参考答案
                    for (var w = 0; w < curentNum; w++) {
                        tempAnswer = "0";

                        for (var z = 0; z < tempAnswerData.length; z++) {
                            if (tempAnswerData[z] == tempdata[0].options[w].iD) {
                                tempAnswer = "1";
                                ckanswer += optionABCdata[w];
                                //  break;
                            }
                        }
                        sonQuestBoxStr += "<li > " + optionABCdata[w] + "." + tempdata[0].options[w].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</li>";
                        //  alert(checked.indexOf(optionABCdata[w]));
                        if (checked.indexOf(optionABCdata[w]) != (-1)) {
                            //   alert(tempAnswer);
                            //   alert(optionABCdata[w]);
                            choiceOption += "<li  data-id=\"" + objQuest.iD + "\"> <a data-id=\"" + objQuest.iD + "\"  class=\"DetailTitletitleanswerChoice DetailTitletitleansweronclick .DetailTitletitleansweronclick \"   data-value=\"" + optionABCdata[w] + "\"  answer=\"" + tempAnswer + "\"  data-check=\"1\"  data-type=\"" + objQuest.typeNo + "\" ><i class=\"DetailTitletitleanswerChoice  DetailTitletitleansweronclick  DetailTitletitleanswerChoice2 .DetailTitletitleansweronclick  \"    data-type=\"" + objQuest.typeNo + "\"    href=\"javascript:void(0)\" answer=\"" + tempAnswer + "\" data-check=\"1\"   data-value=\"" + optionABCdata[w] + "\"> </i>" + optionABCdata[w] + "</a></li>";
                            var showtypeid = 60;
                            var titlenumber = itemNumber;
                            var questiontypes = 1;
                            var titletpye = $(".doproblemsnumber .dopronumbercont[titletpye='" + questiontypes + "']").find("li[titlenumber='" + titlenumber + "']");
                            $(titletpye).removeClass("dopronumberconton1");
                            $(titletpye).removeClass("dopronumberconton2");
                            $(titletpye).removeClass("dopronumberconton3");
                            if (showtypeid == 60) {
                                $(titletpye).addClass("dopronumberconton1");
                            }

                        } else {
                            choiceOption += "<li data-id=\"" + objQuest.iD + "\"><a  data-id=\"" + objQuest.iD + "\" class=\"DetailTitletitleanswerChoice\" data-check=\"0\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[w] + "\"   data-type=\"" + objQuest.typeNo + "\"><i class=\"DetailTitletitleanswerChoice\" data-type=\"" + objQuest.typeNo + "\"   href=\"javascript:void(0)\" answer=\"" + tempAnswer + "\" data-check=\"0\"   data-id=\"" + objQuest.iD + "\" data-value=\"" + optionABCdata[w] + "\"></i>" + optionABCdata[w] + "</i></a></li>";
                        }
                    }


                    choiceOption += question_ok;

                    sonQuestBoxStr += "</ul>";
                    sonQuestBoxStr += "</div>";

                    sonQuestBoxStr += "<div class=\"DetailTitletitleanswermoreselect\" data-type=\"" + sonQuest[i].question.typeNo + "\"><ul> " + choiceOption + " </ul></div>";

                    sonQuestBoxStr += "<div class=\"a-questionToolbar\"><div class=\"" + sonQuest[i].question.iD + sonQuest[i].question.iD + "\"><div style=\"display:none\" class=\"" + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + "\"><span   class=\"spantext\">参考答案：</span><span class=\"sanwer\"   id=\"" + sonQuest[i].question.iD + sonQuest[i].question.iD + "\"    data-id=\"" + ckanswer + "\">" + ckanswer + "</span></div></div></div>";





                }
                else if (sonQuest[i].question.typeNo == "29") {
                    var checked = "";
                    if (ExamRecordList != null) {

                        for (var f = 0; f < ExamRecordList.length; f++) {
                            if (ExamRecordList[f].qID == sonQuest[i].question.iD) {
                                checked = ExamRecordList[f].answer;
                                $("li[questionid='" + ExamRecordList[f].pDID + "']").addClass("dopronumberconton1");
                                break;
                            }
                        }
                    }
                    var tempJson = eval("[" + sonQuest[i].question.jsonStr + "]");
                    var tempAnswerData = eval(tempJson[0].answer);

                    sonQuestBoxStr += "<div id=\"" + sonQuest[i].question.iD + "\" class=\"m-sonitem box\" data-type=\"" + sonQuest[i].question.typeNo + "\" score=\"" + Itemscore + "\">";
                    sonQuestBoxStr += "<span class=\"number\">" + number + ".</span>";
                    number++;
                    sonQuestBoxStr += "<div class=\"f-title\"><input type='text' value=\"" + checked + "\" answer=\"" + tempAnswerData[0].One + "\" class=\"AccountOneValue\" /></div>";
                    sonQuestBoxStr += "</div>";

                    sonQuestBoxStr += "<div class=\"a-questionToolbar\"><div class=\"m-checkBox multiple\"><div style=\"display:none\" class=\"" + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + "\"><span     class=\"spantext\">参考答案：</span><span class=\"sanwer\">" + tempAnswerData[0].One + "</span></div></div></div>";


                }
                else if (sonQuest[i].question.typeNo == "30") {
                    var checked = null;
                    var ckanswer = ""; //参考答案
                    if (ExamRecordList != null) {
                        for (var f = 0; f < ExamRecordList.length; f++) {
                            if (ExamRecordList[f].qID == sonQuest[i].question.iD) {
                                checked = eval("[" + ExamRecordList[f].answer + "]"); //用户作答记录答案
                                $("li[questionid='" + ExamRecordList[f].pDID + "']").addClass("dopronumberconton1");
                                break;
                            }

                        }
                    }
                    var tempdata = eval("[" + sonQuest[i].question.jsonStr + "]");
                    var tempAnswerData = eval(tempdata[0].answer);
                    JSFXAnswerData.push(tempdata);
                    sonQuestBoxStr += "<div id=\"" + sonQuest[i].question.iD + "\" class=\"m-sonitem box\" data-type=\"" + sonQuest[i].question.typeNo + "\"  mode=\"" + tempdata[0].mode + "\" score=\"" + Itemscore + "\">";
                    sonQuestBoxStr += "<span class=\"number\">" + number + ".</span>";
                    number++;
                    //参考答案
                    $("#ceshi").html(AccountingConf);
                    for (var a = 0; a < tempAnswerData.length; a++) {
                        ckanswer += "<p><span style=\"width: 50px;display: block;float: left;\">" + tempAnswerData[a].One + "</span><span style=\"width: 213px;display: block;float: left;\">" + $("#ceshi option[value='" + tempAnswerData[a].Two + "']").text() + "</span><span style=\"display: block;float: left;\">" + tempAnswerData[a].Three + "</span></p><br/>";
                    }

                    if (checked != null) {
                        var xuanxiang = "";
                        for (var x = 0; x < checked.length; x++) {
                            $("#SelectCheck").append(AccountingConf); //在隐藏div中添加会计分录选项（用户在次作答时获取选项）
                            if (checked[x].one != "") {
                                $("#SelectCheck .ddlOne").find("option[value='" + checked[x].one + "']").attr("selected", "selected");
                                $("#SelectCheck .ddlOne").attr("data-check", "1");
                            }
                            if (checked[x].two != "") {
                                $("#SelectCheck .ddlTwo").find("option[value='" + checked[x].two + "']").attr("selected", "selected");
                                $("#SelectCheck .ddlTwo").attr("data-check", "1");
                            }
                            if (checked[x].three != "") {
                                $("#SelectCheck .AccountValue").attr("value", checked[x].three).attr("data-check", 1);
                            }
                            xuanxiang += "<div class='m-sonitem_item' >" + $("#SelectCheck").html() + "</div>";
                            $("#SelectCheck").empty(); //删除会计分录选项（项已选择需要重新添加）
                        }
                        sonQuestBoxStr += "<div class=\"f-title\">" + xuanxiang + "</div>";

                    } else {
                        sonQuestBoxStr += "<div class=\"f-title\"><div class=\"m-sonitem_item\">" + AccountingConf + "</div></div>";
                    }
                    sonQuestBoxStr += "</div>";
                    //  alert(ckanswer);
                    sonQuestBoxStr += "<div class=\"a-questionToolbar\"><div class=\"m-checkBox multiple\" ><div style=\"display:none\"  class=\"" + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + "\" ><span class=\"spantext\"  >参考答案：</span><span class=\"sanwer\">" + ckanswer + "</span></div></div></div>";

                }
                else if (sonQuest[i].question.typeNo == "31") {
                    //选词填空

                    //选项Start
                    var tempdata = eval("[" + sonQuest[i].question.jsonStr + "]");
                    var curentNum = tempdata[0].options.length;
                    //有多少个选项
                    var tempAnswerData = tempdata[0].answerID.split(",");

                    sonQuestBoxStr += " <span>"+number+"." + sonQuest[i].question.titleHTML + "</span>   <ul data-type='31' id=\"" + sonQuest[i].question.iD + "\" data-id='" + sonQuest[i].question.iD + "' class='DetailTitletitReadingSelect' score=\"" + objQuest.questSource + "\">";

                    number++;

                    var choiceOption = "";
                    //选择块
                    var ckanswer = "";
                    //参考答案
                    var question_ok = "";
                    //确定按钮
                    for (var w = 0; w < curentNum; w++) {
                        tempAnswer = "0";
                        for (var z = 0; z < tempAnswerData.length; z++) {
                            if (tempAnswerData[z] == tempdata[0].options[w].iD) {
                                tempAnswer = "1";
                                ckanswer += optionABCdata[w];
                            }
                        }
                        try {

                            if (ckanswer == optionABCdata[w]) {
                                if (checked.indexOf(optionABCdata[w]) != (-1)) {

                                    sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '"   class="cont-topic-answer-this"> <i   data-check="1"  answer="' + tempAnswer + '"   data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                                }
                                else {

                                    sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '" > <i  answer="' + tempAnswer + '"  data-check="0" data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                                }
                            }
                            else {
                                if (checked.indexOf(optionABCdata[w]) != (-1)) {

                                    sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '"   class="cont-topic-answer-this"> <i   data-check="1"  answer="' + tempAnswer + '"   data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                                } else {
                                    sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '" > <i  answer="' + tempAnswer + '"  data-check="0" data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                                }

                            }
                        } catch (e) {
                            sonQuestBoxStr += '<li data-quetypes="' + objQuest.typeNo + '" > <i  answer="' + tempAnswer + '"  data-check="0" data-value="' + optionABCdata[w] + '">' + optionABCdata[w] + "</i></li>";
                        }

                    }
                    sonQuestBoxStr += "</ul>  ";
                    childnumber++;

                    sonQuestBoxStr += " <div class='DetailTitletitReadingYouranswer DetailTitletitReadingYouranswerthis'>   <div  class='DetailTitletitReadingYouranswerthis'  style=\"display:none\"><span>【参考答案】</span><b>" + ckanswer + "</b></div>   	</div> "; //<div><span>【你的答案】</span><b>A</b></div>



                }

            }
            if (childnumber>0) {

                htmlStr = "";

                htmlStr += " <div style=\"height:20px;\" class=\"contentleftconttitletop\" titlenumber=\"" + itemNumber + "\"   data-type=\"" + objQuest.typeNo + "\"  questiontypes=\"1\"   showTypeID=\"" + objQuest.showTypeID + "\"  ></div> <div class=\"DetailTitlecontent\" id=\"" + objQuest.iD + "\" data-id=\"" + objQuest.iD + "\"  questiontypes=\"1\"  showTypeID=\"" + objQuest.showTypeID + "\"  titlenumber=\"" + itemNumber + "\" data-type=\"" + objQuest.typeNo + "\">";
                //父题题干
                htmlStr += "<div class=\"DetailTitletitle\">";

                htmlStr += "<div class=\"DetailTitletitReading\"><h4><i>" + itemNumber + "[" + showTypeName + "]</i><span>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span> </h4>";


            }

        }

    }

    if (num < 1) {

        sonQuestBoxStr += "<div class=\"DetailTitletitleactive\" questiontypes=\"1\"  titlenumber=\"" + itemNumber + "\"><ul><li class=\"jiexi\"> <i class=\"packupparsing\"></i> <span class=\"parsing\">查看答案</span> </li>    <li><span  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li>  </ul></div>";

        sonQuestBoxStr += "</div>";
        sonQuestBoxStr += " <div class=\"DetailTitleparsing\"> <div class=\"DetailTitleparsinganswer\"><ul> " + ((objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") == "" || typeof (objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"")) == "undefined") ? "" : ("<li class=\"spantext\"><span>【题目解析】</span><a>" + objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</a></li>")) + "  </ul></div>";
        sonQuestBoxStr += " <div class=\"DetailTitleparsingnotes\"><span>【笔&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span>  <a class=\"takenotes \"><i></i>记笔记</a>     <a class=\"netfriendnotes\" data-id=\"" + objQuest.iD + "\" >查看网友笔记</a></div> ";
        sonQuestBoxStr += " <div class=\"DetailTitleparsingtakenotes \"><textarea class=\"textareaval\" id=\"" + objQuest.iD + "one\"  placeholder=\"输入笔记内容...\" ></textarea>     <span>最多输入200个字</span>   <div class=\"takenotesbotton\">  <a class=\"takenotesrefer\" data-id=\"" + objQuest.iD + "\">提交</a>  <a class=\"takenotesreset\">重置</a></div>  </div>";
        sonQuestBoxStr += " <div class=\"DetailTitlenetfriendnotes\" id=\"" + objQuest.iD + objQuest.iD + "\" questionid=\"" + objQuest.iD + "\"  data-id=\"" + objQuest.iD + "\"> </div></div> ";

        htmlStr += sonQuestBoxStr + "</div>";
    } else {


        htmlStr += sonQuestBoxStr;

        htmlStr += "</div>";

        htmlStr += "<div class=\"DetailTitletitleactive\" questiontypes=\"1\"  titlenumber=\"" + itemNumber + "\"><ul><li class=\"jiexi\"> <i class=\"packupparsing\"></i> <span class=\"parsing\">查看解析</span> </li>    <li><span  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li>  </ul></div>";

        htmlStr += "</div>";

        htmlStr += " <div class=\"DetailTitleparsing\"> <div class=\"DetailTitleparsinganswer\"><ul> " + ((objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") == "" || typeof (objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"")) == "undefined") ? "" : ("<li class=\"spantext\"><span>【题目解析】</span><a>" + objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</a></li>")) + "  </ul></div>";
        htmlStr += " <div class=\"DetailTitleparsingnotes\"><span>【笔&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span>  <a class=\"takenotes \"><i></i>记笔记</a>     <a class=\"netfriendnotes\" data-id=\"" + objQuest.iD + "\" >查看网友笔记</a></div> ";
        htmlStr += " <div class=\"DetailTitleparsingtakenotes \"><textarea class=\"textareaval\" id=\"" + objQuest.iD + "one\"  placeholder=\"输入笔记内容...\" ></textarea>     <span>最多输入200个字</span>   <div class=\"takenotesbotton\">  <a class=\"takenotesrefer\" data-id=\"" + objQuest.iD + "\">提交</a>  <a class=\"takenotesreset\">重置</a></div>  </div>";
        htmlStr += " <div class=\"DetailTitlenetfriendnotes\" id=\"" + objQuest.iD + objQuest.iD + "\" questionid=\"" + objQuest.iD + "\"  data-id=\"" + objQuest.iD + "\"> </div></div> ";

        htmlStr += "</div>";
    }




    $("#exam").append(htmlStr);

}





//其它模板OtherAnswer


function OtherAnswer(objQuest, showTypeName) {

    var htmlStr = "";
    htmlStr += " <div style=\"height:20px;\" class=\"contentleftconttitletop\" data-type=\"" + objQuest.typeNo + "\" titlenumber=\"" + itemNumber + "\" questiontypes=\"1\"   showTypeID=\"" + objQuest.showTypeID + "\"  ></div> <div class=\"DetailTitlecontent\" id=\"" + objQuest.iD + "\" data-id=\"" + objQuest.iD + "\"  questiontypes=\"1\"  showTypeID=\"" + objQuest.showTypeID + "\"  titlenumber=\"" + itemNumber + "\" data-type=\"" + objQuest.typeNo + "\">";
    //题干
    htmlStr += "<div class=\"DetailTitletitle\"><div class=\"DetailTitletitlecont\"><h4><i>" + itemNumber + "[" + showTypeName + "]</i><span>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span> </h4>";

    htmlStr += "<div class=\"Shortanswertextarea\"><textarea   class=\"multiple-text\"  oninput=\"doproblemssheet()\" onChange=\"doproblemssheet()\"placeholder=\"请在此输入您的答案\">";

    if (ExamRecordList != null) {
        for (var f = 0; f < ExamRecordList.length; f++) {
            if (ExamRecordList[f].qID == objQuest.iD) {
                //  var mm =  ExamRecordList[f].answer;
                //绑定题目类容
                htmlStr += ExamRecordList[f].answer;
                break;
            }
        }
    }
    htmlStr += "</textarea></div></div>";
    var tempdata = eval("[" + objQuest.jsonStr + "]");

    var num = 0;
    var err = 0;
    var gail = 0;
    if (objQuest.numsum > 0) {
        num = objQuest.numsum;
        num = parseFloat(num);
    }
    if (objQuest.errsum > 0) {
        err = objQuest.errsum;
        err = parseFloat(err);
    }
    if (num > 0) {
        gail = (1 - (err / num)) * 100;
        gail = parseInt(gail);
    }

    htmlStr += " <div class=\"DetailTitletitleactive\">   <ul>  <li class=\"jiexi \"><i class=\"packupparsing\"></i><span class=\"parsing\">查看答案</span></li>";

    //  var aa = objQuest.iD;
    // gettidcollect(aa);
    // if (datalist == null || datalist == "") {
    if (objQuest.flag == 0) {
        htmlStr += "  <li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning\">收藏</span><i class=\"collectionontology \" data-id=\"" + objQuest.iD + "\"></i></li> <li><span data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li></ul>";
    } else {
        htmlStr += "  <li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning collectioning2\">收藏</span><i class=\"collectionontology  collectionontology2 \" data-id=\"" + objQuest.iD + "\"></i></li> <li><span data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li></ul>";
    }

    htmlStr += " </div></div>";
    htmlStr += " <div class=\"DetailTitleparsing\">    <div class=\"DetailTitleparsinganswer\"><ul> <li><span>【参考答案】</span><a></a></li>";
    htmlStr += "  <li><span>【统&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span><a>本题共被作答" + num + " 次，正确率" + gail + "%</a> </li>  </ul>";
    htmlStr += " </div> <div class=\"DetailTitleparsingnotes\">  <span>【笔&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span>   <a class=\"takenotes \"><i></i>记笔记</a>    </div>";
    htmlStr += "  <div class=\"DetailTitleparsingtakenotes \">        <textarea class=\"textareaval\"  id=\"" + objQuest.iD + "two\"   placeholder=\"输入笔记内容...\" ></textarea>";
    htmlStr += "<span>最多输入200个字</span>  <div class=\"takenotesbotton\"> <a class=\"takenotesrefer tijiao\" id=\"tijiao\" data-id=\"" + objQuest.iD + "\" >提交</a>     <a class=\"takenotesreset\">重置</a>  </div> </div></div> </div>";

    //  return htmlStr;
    $("#exam").append(htmlStr);
}


//操作题模板


function CaoDoAnswer(objQuest, showTypeName) {
    var htmlStr = "";
    htmlStr += " <div style=\"height:20px;\" class=\"contentleftconttitletop\" data-type=\"" + objQuest.typeNo + "\" titlenumber=\"" + itemNumber + "\" questiontypes=\"1\"   showTypeID=\"" + objQuest.showTypeID + "\"  ></div> ";
    htmlStr += "<div class=\"DetailTitlecontent\" id=\"" + objQuest.iD + "\" data-id=\"" + objQuest.iD + "\"  questiontypes=\"1\"  showTypeID=\"" + objQuest.showTypeID + "\"  titlenumber=\"" + itemNumber + "\" data-type=\"" + objQuest.typeNo + "\">"
    //题干
    htmlStr += "<div class=\"DetailTitletitle\">";
    htmlStr += "<div class=\"DetailTitletitlecontShort\"><h4><i>" + itemNumber + "[" + showTypeName + "]</i><span>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span> </h4>";

    htmlStr += "</div>";
    htmlStr += "<div class=\"Shortanswertextarea\"><textarea   class=\"multiple-text\" disabled=\"disabled\"  placeholder=\"输入答案\">操作题为主观题，不计算评分，答案请查看视频和文字解析</textarea></div>";
    var tempdata = eval("[" + objQuest.jsonStr + "]");

    htmlStr += " <div class=\"DetailTitletitleactive\">   <ul>  ";


    if (objQuest.flag == 0) {
        htmlStr += "<li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning\">收藏</span><i class=\"collectionontology \" data-id=\"" + objQuest.iD + "\"></i></li> <li><span data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li>     <li><span class='textparsing'>文本解析</span><i class='textparsingicon'></i></li>   <li><span class='videoresolution'  data-id=\"" + objQuest.iD + "\">视频解析</span><i class='videoresolutionicon'></i></li></ul>";
    } else {
        htmlStr += "<li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning collectioning2\">收藏</span><i class=\"collectionontology  collectionontology2 \" data-id=\"" + objQuest.iD + "\"></i></li> ";
        htmlStr += "<li><span data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li> ";
        htmlStr += "  <li><span class='textparsing'>文本解析</span> <i class='textparsingicon'></i></li > ";
        htmlStr += "<li><span class='videoresolution'  data-id=\"" + objQuest.iD + "\">视频解析</span><i class='videoresolutionicon'></i></li></ul>";
    }

    htmlStr += " </div>  </div>";
    htmlStr += " <div class=\"DetailTitleparsing\">    <div class=\"DetailTitleparsinganswer\"><ul>";



    try {
        htmlStr += "<li><span>【题目解析】</span><a>" + objQuest.thinking.replace(" ", "") + "</a></li>";
    } catch (e) {
        htmlStr += "<li><span>【题目解析】</span></a></li>";
    }


    htmlStr += "   </ul>";
    htmlStr += "   </div>";
    htmlStr += "<div class=\"DetailTitleparsingnotes\">  <span>【笔&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span>   <a class=\"takenotes \"><i></i>记笔记</a>  <a class=\"netfriendnotes\" data-id=\"" + objQuest.iD + "\" >查看网友笔记</a>   </div>";
    htmlStr += "  <div class=\"DetailTitleparsingtakenotes \">        <textarea class=\"textareaval\"  id=\"" + objQuest.iD + "two\"   placeholder=\"输入笔记内容...\" ></textarea>";
    htmlStr += "<span>最多输入200个字</span>  <div class=\"takenotesbotton\"> <a class=\"takenotesrefer tijiao\" id=\"tijiao\" data-id=\"" + objQuest.iD + "\" >提交</a>     <a class=\"takenotesreset\">重置</a>  </div> </div> ";

    htmlStr += " <div class=\"DetailTitlenetfriendnotes\" id=\"" + objQuest.iD + objQuest.iD + "\" questionid=\"" + objQuest.iD + "\"  data-id=\"" + objQuest.iD + "\"> </div></div> ";
    //  htmlStr += " </div> </div>  ";
    document.getElementById('as').style.display = "none";
    document.getElementById('asc').style.display = "none";
    //  console.info(htmlStr);
    $("#exam").append(htmlStr);
}


//问答题模板


function ChoiceWenAndAnswer(objQuest, showTypeName) {
    var htmlStr = "";
    htmlStr += " <div style=\"height:20px;\" class=\"contentleftconttitletop\" data-type=\"" + objQuest.typeNo + "\" titlenumber=\"" + itemNumber + "\" questiontypes=\"1\"   showTypeID=\"" + objQuest.showTypeID + "\"  ></div> <div class=\"DetailTitlecontent\" id=\"" + objQuest.iD + "\" data-id=\"" + objQuest.iD + "\"  questiontypes=\"1\"  showTypeID=\"" + objQuest.showTypeID + "\"  titlenumber=\"" + itemNumber + "\" data-type=\"" + objQuest.typeNo + "\">";
    //题干
    htmlStr += "<div class=\"DetailTitletitle\"><div class=\"DetailTitletitlecont\"><h4><i>" + itemNumber + "[" + showTypeName + "]</i><span>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span> </h4>";

    htmlStr += "<div class=\"Shortanswertextarea\"><textarea   class=\"multiple-text\"  oninput=\"doproblemssheet()\" onChange=\"doproblemssheet()\"placeholder=\"请在此输入您的答案\">";

    if (ExamRecordList != null) {
        for (var f = 0; f < ExamRecordList.length; f++) {
            if (ExamRecordList[f].qID == objQuest.iD) {
                //  var mm =  ExamRecordList[f].answer;
                //绑定题目类容
                htmlStr += ExamRecordList[f].answer;
                break;
            }
        }
    }
    htmlStr += "</textarea></div></div>";
    //console.log(objQuest.jsonStr);
    var tempdata = eval("[" + objQuest.jsonStr + "]");
    //  var ana = tempdata[0].answer.split("【参考答案】");
    //   console.info(tempdata[0].answer);
    var num = 0;
    var err = 0;
    var gail = 0;
    if (objQuest.numsum > 0) {
        num = objQuest.numsum;
        num = parseFloat(num);
    }
    if (objQuest.errsum > 0) {
        err = objQuest.errsum;
        err = parseFloat(err);
    }
    if (num > 0) {
        gail = (1 - (err / num)) * 100;
        gail = parseInt(gail);
    }

    htmlStr += " <div class=\"DetailTitletitleactive\">   <ul>  <li class=\"jiexi\"><i class=\"packupparsing\"></i><span class=\"parsing\">查看答案</span></li>";


    if (objQuest.flag == 0) {
        //   if (datalist == null || datalist == "") {
        htmlStr += "  <li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning\">收藏</span><i class=\"collectionontology \" data-id=\"" + objQuest.iD + "\"></i></li> <li><span data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li></ul>";
    } else {
        htmlStr += "  <li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning collectioning2\">收藏</span><i class=\"collectionontology  collectionontology2 \" data-id=\"" + objQuest.iD + "\"></i></li> <li><span data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li></ul>";
    }

    htmlStr += " </div></div>";
    htmlStr += " <div class=\"DetailTitleparsing\">    <div class=\"DetailTitleparsinganswer\"><ul> <li><span>【参考答案】</span><a>" + tempdata[0].answer + " </a></li>";
    htmlStr += " <li class=\"answeranswer\"  style=\"display:none\"><span>【你的答案】</span><b  id=\"" + objQuest.iD + "answer\"  >未作答</b></li>";

    if (((objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"").indexOf(tempdata[0].titleText) != -1) && typeof (tempdata[0].titleText) != "undefined")) {

        htmlStr += "<li><span>【题目解析】</span><a>" + tempdata[0].titleText + "</a></li>";
    }



    htmlStr += "  <li><span>【统&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span><a>本题共被作答" + num + " 次，正确率" + gail + "%</a> </li>  </ul>";
    htmlStr += "   </div> <div class=\"DetailTitleparsingnotes\">  <span>【笔&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span>   <a class=\"takenotes \"><i></i>记笔记</a>    </div>";
    htmlStr += "  <div class=\"DetailTitleparsingtakenotes \">        <textarea class=\"textareaval\"  id=\"" + objQuest.iD + "two\"   placeholder=\"输入笔记内容...\" ></textarea>";
    htmlStr += "<span>最多输入200个字</span>  <div class=\"takenotesbotton\"> <a class=\"takenotesrefer tijiao\" id=\"tijiao\" data-id=\"" + objQuest.iD + "\" >提交</a>     <a class=\"takenotesreset\">重置</a>  </div> </div></div> </div>";
    document.getElementById('as').style.display = "none";
    document.getElementById('asc').style.display = "none";
    // return htmlStr;
    $("#exam").append(htmlStr);
}


//多题干共用选项题


function MultipleQuesOfOption(objQuest, sonQuest, showTypeName) {
    var htmlStr = "";

    htmlStr += "<div class=\"DetailTitlecontent\" id=\"" + objQuest.iD + "\"  data-type=\"" + objQuest.typeNo + "\" >";

    var ItemNumberStr = "<span class=\"number\">" + itemNumber + ".</span>";
    if (objQuest.titleText != "") {
        //父题题干
        htmlStr += "<div class=\"DetailTitlecontent\">" + ItemNumberStr + "<div class=\"f-title\"><div style='font-weight: bold;'>QiuZhi_Temp_Temp</div><div>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</div></div></div>";
        ItemNumberStr = "";
    }

    //选项Start
    var tempdata = eval("[" + objQuest.jsonStr + "]");
    var curentNum = tempdata[0].options.length; //有多少个选项
    htmlStr += "<div class=\"big-choicebox box\">" + ItemNumberStr + "<div class=\"f-title\"><ul class=\"multiple box\">";
    for (var i = 0; i < curentNum; i++) {
        htmlStr += "<li class=\"question-option-list box\" data-value=\"" + optionABCdata[i] + "\"><span>" + optionABCdata[i] + ".</span><div class=\"option-content\">" + tempdata[0].options[i].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</div></li>";
    }
    htmlStr += "</ul></div></div>";
    //选项End
    var sonNum = 0; //有多少小题
    var sonQuestBoxStr = "<div class=\"m-SonQuestBox box\">";
    var tempAnswer = ""; //答案选项
    var ckanswer = ""; //参考答案
    for (var i = 0; i < sonQuest.length; i++) {
        if (sonQuest[i].parentID == objQuest.iD) {
            for (var q = 0; q < sonQuest[i].questData.length; q++) {
                sonNum++;
                //子题题干
                sonQuestBoxStr += "<div id=\"" + sonQuest[i].questData[q].iD + "\" class=\"DetailTitlecontent-title\" data-type=\"" + sonQuest[i].questData[q].typeNo + "\">";
                sonQuestBoxStr += "<span class=\"number\">" + (q + 1) + ".</span>";
                sonQuestBoxStr += "<div class=\"f-title\">" + sonQuest[i].questData[q].titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</div>";
                sonQuestBoxStr += "</div>";

                if (sonQuest[i].questData[q].typeNo == "1" || sonQuest[i].questData[q].typeNo == "2" || sonQuest[i].questData[q].typeNo == "3") {
                    //选项Start
                    var choiceOption = ""; //选择块
                    //单选或多选
                    var question_ok = "";
                    ckanswer = "";
                    if (sonQuest[i].questData[q].typeNo == "2") {

                    }
                    var checked = "";
                    if (ExamRecordList != null) {
                        for (var f = 0; f < ExamRecordList.length; f++) {
                            if (ExamRecordList[f].qID == sonQuest[i].questData[q].iD) {
                                checked = ExamRecordList[f].answer;
                                break;
                            }
                        }
                    }
                    var tempJson = eval("[" + sonQuest[i].questData[q].jsonStr + "]");
                    var tempAnswerData = tempJson[0].answerID.split(',');
                    for (var w = 0; w < curentNum; w++) {
                        tempAnswer = "0";
                        for (var s = 0; s < tempdata.length; s++) {
                            if (tempAnswerData[s] == tempdata[0].options[w].iD) {
                                tempAnswer = "1";
                                ckanswer += optionABCdata[w];
                                break;
                            }
                        }
                        if (checked.indexOf(optionABCdata[w]) != (-1)) {
                            choiceOption += "<a class=\"question-option-list CheckCurrent\" href=\"javascript:void(0)\" answer=\"" + tempAnswer + "\" data-check=\"1\" data-value=\"" + optionABCdata[w] + "\">" + button_check + optionABCdata[w] + "</a>";
                        } else {
                            choiceOption += "<a class=\"question-option-list\" href=\"javascript:void(0)\" answer=\"" + tempAnswer + "\" data-check=\"0\" data-value=\"" + optionABCdata[w] + "\">" + button_icon + optionABCdata[w] + "</a>";
                        }

                    }
                    choiceOption += question_ok;
                    sonQuestBoxStr += "<div class=\"DetailTitlecontent-html box\" data-type=\"" + sonQuest[i].questData[q].typeNo + "\">" + choiceOption + "</div>";
                    //    alert(ckanswer);
                    sonQuestBoxStr += "<div class=\"a-questionToolbar\" ><div class=\"m-checkBox multiple\"><div style=\"display:none\" class=\"" + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + objQuest.iD + "\"><span     class=\"spantext\">参考答案：</span><span class=\"sanwer\">" + ckanswer + "</span></div><div><span class=\"spantext\">解题思路：</span><span>" + sonQuest[i].questData[q].thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span></div></div></div>";
                    //选项End
                }
            }
            break;
        }
    }
    sonQuestBoxStr += "</div>";

    htmlStr = htmlStr.replace("QiuZhi_Temp_Temp", "（1-" + sonNum + "题共用备选答案）");
    htmlStr += sonQuestBoxStr + "</div>";
    $(".jiexi ").removeClass($("jiexi ")).addClass($("jiexi ")).css('display', 'block');
    document.getElementById('as').style.display = "none";
    document.getElementById('asc').style.display = "none";

    return htmlStr;
}

//多选题题模板


function ChoseAnswer(objQuest, quesScore, showTypeName) {
    var htmlStr = "";
    htmlStr += "<div style=\"height:20px;\" class=\"contentleftconttitletop\" questiontypes=\"1\"  showTypeID=\"" + objQuest.showTypeID + "\"  titlenumber=\"" + itemNumber + "\"></div> <div class=\"DetailTitlecontent\"  showTypeID=\"" + objQuest.showTypeID + "\"    questiontypes=\"1\" titlenumber=\"" + itemNumber + "\"  id=\"" + objQuest.iD + "\" data-id=\"" + objQuest.iD + "\"   score=\"" + quesScore + "\"  data-type=\"" + objQuest.typeNo + "\">";
    //题干
    htmlStr += "<div class=\"DetailTitletitle\"><div class=\"DetailTitletitlecontmoreselect\"><h4><span><i>" + itemNumber + "[" + showTypeName + "]</i>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span> </h4>";
    var checked = "";
    if (ExamRecordList != null) {
        for (var f = 0; f < ExamRecordList.length; f++) {
            if (ExamRecordList[f].qID == objQuest.iD) {
                checked = ExamRecordList[f].answer;
                break;
            }
        }
    }
    //选项Start
    var tempdata = eval("[" + objQuest.jsonStr + "]");
    var curentNum = tempdata[0].options.length; //有多少个选项
    var choiceOption = ""; //选择块
    var tempAnswer = ""; //答案选项
    var ckanswer = ""; //参考答案
    var answerDatatemp = tempdata[0].answerID.split(",");
    var question_ok = "";

    //cont-topic-answer-this
    htmlStr += "<ul >";
    for (var i = 0; i < curentNum; i++) {
        tempAnswer = "0";
        for (var q = 0; q < answerDatatemp.length; q++) {
            if (tempdata[0].options[i].iD == answerDatatemp[q]) {
                tempAnswer = "1";
                ckanswer += optionABCdata[i];
                break;
            }
        }
        if (checked.indexOf(optionABCdata[i]) != (-1)) {
            htmlStr += "<li  class='cont-topic-answer-this'  data-id=\"" + objQuest.iD + "\" class=\"DetailTitletitleanswerChoice\" data-check=\"1\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[i] + "\"   data-type=\"" + objQuest.typeNo + "\"><i> " + optionABCdata[i] + "</i><span>" + tempdata[0].options[i].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span></li>";
            //  choiceOption += "<li  data-id=\"" + objQuest.iD + "\"> <a data-id=\"" + objQuest.iD + "\"  class=\"DetailTitletitleanswerChoice DetailTitletitleansweronclick .DetailTitletitleansweronclick \"   data-value=\"" + optionABCdata[i] + "\"  answer=\"" + tempAnswer + "\"  data-check=\"1\"  data-type=\"" + objQuest.typeNo + "\" ><i class=\"DetailTitletitleanswerChoice  DetailTitletitleansweronclick  DetailTitletitleanswerChoice2 .DetailTitletitleansweronclick  \"    data-type=\"" + objQuest.typeNo + "\"    href=\"javascript:void(0)\" answer=\"" + tempAnswer + "\" data-check=\"1\"   data-value=\"" + optionABCdata[i] + "\"> </i>" + optionABCdata[i] + "</a></li>";
            //已答 获取答题卡样式
            var showtypeid = 60;
            var titlenumber = itemNumber;

            var questiontypes = 1;
            var titletpye = $(".doproblemsnumber .dopronumbercont[titletpye='" + questiontypes + "']").find("li[titlenumber='" + titlenumber + "']");

            $(titletpye).removeClass("dopronumberconton1");
            $(titletpye).removeClass("dopronumberconton2");
            $(titletpye).removeClass("dopronumberconton3");
            if (showtypeid == 60) {
                $(titletpye).addClass("dopronumberconton1");
            }
        } else {
            htmlStr += "<li   data-id=\"" + objQuest.iD + "\"  data-check=\"0\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[i] + "\"   data-type=\"" + objQuest.typeNo + "\"><i> " + optionABCdata[i] + "</i><span>" + tempdata[0].options[i].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span></li>";
            // choiceOption += "<li data-id=\"" + objQuest.iD + "\"><a  data-id=\"" + objQuest.iD + "\" class=\"DetailTitletitleanswerChoice\" data-check=\"0\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[i] + "\"   data-type=\"" + objQuest.typeNo + "\"><i class=\"DetailTitletitleanswerChoice\" data-type=\"" + objQuest.typeNo + "\"   href=\"javascript:void(0)\" answer=\"" + tempAnswer + "\" data-check=\"0\"   data-value=\"" + optionABCdata[i] + "\"></i>" + optionABCdata[i] + "</i></a></li>";
        }
        //   htmlStr += "<li > " + optionABCdata[i] + "." + tempdata[0].options[i].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</li>";

    }
    choiceOption += question_ok;
    htmlStr += "</ul></div> ";
    htmlStr += "<div class=\"DetailTitletitleanswermoreselect\" data-type=\"" + objQuest.typeNo + "\"><ul> " + choiceOption + " </ul></div>";
    var num = 0;
    var err = 0;
    var gail = 0;
    if (objQuest.numsum > 0) {
        num = objQuest.numsum;
        num = parseFloat(num);
    }
    if (objQuest.errsum > 0) {
        err = objQuest.errsum;
        err = parseFloat(err);
    }
    if (num > 0) {
        gail = (1 - (err / num)) * 100;
        gail = parseInt(gail);
    }

    // var aa = objQuest.iD;
    // gettidcollect(aa);
    if (objQuest.flag == 0) {
        htmlStr += "<div class=\"DetailTitletitleactive\" questiontypes=\"1\"  titlenumber=\"" + itemNumber + "\"><ul><li class=\"jiexi\"> <i class=\"packupparsing\"></i> <span class=\"parsing\">查看答案</span> </li> <li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning\">收藏</span> <i class=\"collectionontology\" data-id=\"" + objQuest.iD + "\"></i></li>    <li><span  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li>  </ul></div>";
    } else {
        htmlStr += "<div class=\"DetailTitletitleactive\" questiontypes=\"1\"  titlenumber=\"" + itemNumber + "\"><ul><li class=\"jiexi\"> <i class=\"packupparsing\"></i> <span class=\"parsing\">查看答案</span> </li> <li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning collectioning2\">收藏</span> <i class=\"collectionontology  collectionontology2\" data-id=\"" + objQuest.iD + "\"></i></li>    <li><span  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li>  </ul></div>";

    }


    htmlStr += " </div><div class=\"DetailTitleparsing\"> <div class=\"DetailTitleparsinganswer\"><ul><li><span>【参考答案】</span><b id=\"" + objQuest.iD + objQuest.iD + objQuest.iD + "\" data-id=\"" + ckanswer + "\">" + ckanswer + " </b></li><li class=\"answeranswer\" style=\"display:none\" ><span>【你的答案】</span><b   id=\"" + objQuest.iD + "answer\"  >未作答</b></li>  " + ((objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") == "" || typeof (objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"")) == "undefined") ? "" : ("<li><span>【题目解析】</span><a>" + objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</a></li>")) + " <li><span>【统&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span><a>本题共被作答" + num + " 次，正确率" + gail + "%</a></li> </ul>  </div>";
    htmlStr += " <div class=\"DetailTitleparsingnotes\"><span>【笔&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span>  <a class=\"takenotes \"><i></i>记笔记</a>     <a class=\"netfriendnotes\" data-id=\"" + objQuest.iD + "\" >查看网友笔记</a></div> ";
    htmlStr += " <div class=\"DetailTitleparsingtakenotes \"><textarea class=\"textareaval\" id=\"" + objQuest.iD + "one\"  placeholder=\"输入笔记内容...\" ></textarea>     <span>最多输入200个字</span>   <div class=\"takenotesbotton\">  <a class=\"takenotesrefer\" data-id=\"" + objQuest.iD + "\">提交</a>  <a class=\"takenotesreset\">重置</a></div>  </div>";
    htmlStr += " <div class=\"DetailTitlenetfriendnotes\" id=\"" + objQuest.iD + objQuest.iD + "\" questionid=\"" + objQuest.iD + "\"  data-id=\"" + objQuest.iD + "\"> </div></div> ";
    htmlStr += " </div>";

    // return htmlStr;
    $("#exam").append(htmlStr);
}

//选择题模板


function ChoiceAndAnswer(objQuest, quesScore, showTypeName) {

    var htmlStr = "";

    htmlStr += "<div style=\"height:20px;\" class=\"contentleftconttitletop\" questiontypes=\"1\"  showTypeID=\"" + objQuest.showTypeID + "\"  titlenumber=\"" + itemNumber + "\"></div> <div class=\"DetailTitlecontent\"  showTypeID=\"" + objQuest.showTypeID + "\"    questiontypes=\"1\" titlenumber=\"" + itemNumber + "\"  id=\"" + objQuest.iD + "\" data-id=\"" + objQuest.iD + "\"   score=\"" + quesScore + "\"  data-type=\"" + objQuest.typeNo + "\">";
    //题干
    htmlStr += "<div class=\"DetailTitletitle\"><div class=\"DetailTitletitlecont\"><h4><i>" + itemNumber + "[" + showTypeName + "]</i><span>" + objQuest.titleHTML.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</span> </h4>";
    var checked = "";
    if (ExamRecordList != null) {
        for (var f = 0; f < ExamRecordList.length; f++) {
            if (ExamRecordList[f].qID == objQuest.iD) {
                checked = ExamRecordList[f].answer;
                break;
            }
        }
    }
    //选项Start
    var tempdata = eval("[" + objQuest.jsonStr + "]");
    var curentNum = tempdata[0].options.length; //有多少个选项
    var choiceOption = ""; //选择块
    var tempAnswer = ""; //答案选项
    var ckanswer = ""; //参考答案
    var answerDatatemp = tempdata[0].answerID.split(",");
    var question_ok = "";


    htmlStr += "<ul >";
    for (var i = 0; i < curentNum; i++) {
        tempAnswer = "0";
        for (var q = 0; q < answerDatatemp.length; q++) {
            if (tempdata[0].options[i].iD == answerDatatemp[q]) {
                tempAnswer = "1";
                ckanswer += optionABCdata[i];
                break;
            }
        }
        if (checked.indexOf(optionABCdata[i]) != (-1)) {
            htmlStr += "<li  class='cont-topic-answer-this' data-id=\"" + objQuest.iD + "\" data-check=\"1\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[i] + "\"   data-type=\"" + objQuest.typeNo + "\"><i> " + optionABCdata[i] + "</i><span>" + tempdata[0].options[i].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + " </span></li>";
            //   choiceOption += "<li  data-id=\"" + objQuest.iD + "\"> <a data-id=\"" + objQuest.iD + "\"  class=\"DetailTitletitleanswerChoice DetailTitletitleansweronclick .DetailTitletitleansweronclick \"   data-value=\"" + optionABCdata[i] + "\"  answer=\"" + tempAnswer + "\"  data-check=\"1\"  data-type=\"" + objQuest.typeNo + "\" ><i class=\"DetailTitletitleanswerChoice  DetailTitletitleansweronclick  DetailTitletitleanswerChoice2 .DetailTitletitleansweronclick  \"    data-type=\"" + objQuest.typeNo + "\"    href=\"javascript:void(0)\" answer=\"" + tempAnswer + "\" data-check=\"1\"   data-value=\"" + optionABCdata[i] + "\"> </i>" + optionABCdata[i] + "</a></li>";
            //已答 获取答题卡样式
            var showtypeid = 60;
            var titlenumber = itemNumber;


            var questiontypes = 1;


            var titletpye = $(".doproblemsnumber .dopronumbercont[titletpye='" + questiontypes + "']").find("li[titlenumber='" + titlenumber + "']");

            $(titletpye).removeClass("dopronumberconton1");
            $(titletpye).removeClass("dopronumberconton2");
            $(titletpye).removeClass("dopronumberconton3");
            if (showtypeid == 60) {
                $(titletpye).addClass("dopronumberconton1");
            }
        } else {
            htmlStr += "<li  data-id=\"" + objQuest.iD + "\" data-check=\"0\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[i] + "\"   data-type=\"" + objQuest.typeNo + "\"> <i> " + optionABCdata[i] + "</i><span>" + tempdata[0].options[i].optionHtml.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</li></span>";
            //  choiceOption += "<li data-id=\"" + objQuest.iD + "\"><a  data-id=\"" + objQuest.iD + "\" class=\"DetailTitletitleanswerChoice\" data-check=\"0\" answer=\"" + tempAnswer + "\"   data-value=\"" + optionABCdata[i] + "\"   data-type=\"" + objQuest.typeNo + "\"><i class=\"DetailTitletitleanswerChoice\" data-type=\"" + objQuest.typeNo + "\"   href=\"javascript:void(0)\" answer=\"" + tempAnswer + "\" data-check=\"0\"   data-value=\"" + optionABCdata[i] + "\"></i>" + optionABCdata[i] + "</i></a></li>";
        }

        //<i>A</i><span>评价、发展、导向</span>
    }
    //    choiceOption += question_ok;
    htmlStr += "</ul></div> ";
    htmlStr += "<div class=\"DetailTitletitleanswer\" data-type=\"" + objQuest.typeNo + "\"><ul> " + choiceOption + " </ul></div>";
    var num = 0;
    var err = 0;
    var gail = 0;
    if (objQuest.numsum > 0) {
        num = objQuest.numsum;
        num = parseFloat(num);
    }
    if (objQuest.errsum > 0) {
        err = objQuest.errsum;
        err = parseFloat(err);
    }
    if (num > 0) {
        gail = (1 - (err / num)) * 100;
        gail = parseInt(gail);
    }

    if (objQuest.flag == 0) {
        htmlStr += "<div class=\"DetailTitletitleactive\" questiontypes=\"1\"  titlenumber=\"" + itemNumber + "\"><ul><li class=\"jiexi\"> <i class=\"packupparsing\"></i> <span class=\"parsing\">查看答案</span> </li> <li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning\">收藏</span> <i class=\"collectionontology\" data-id=\"" + objQuest.iD + "\"></i></li>    <li><span  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li>  </ul></div>";
    } else {
        htmlStr += "<div class=\"DetailTitletitleactive\" questiontypes=\"1\"  titlenumber=\"" + itemNumber + "\"><ul><li class=\"jiexi\"> <i class=\"packupparsing\"></i> <span class=\"parsing\">查看答案</span> </li> <li><span id=\"" + itemNumber + "\"  data-id=\"" + objQuest.iD + "\"   class=\"collectioning collectioning2\">收藏</span> <i class=\"collectionontology  collectionontology2\" data-id=\"" + objQuest.iD + "\"></i></li>    <li><span  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" class=\"Erroring\">纠错</span><i class=\"Errorcorrection\"  id=\"" + objQuest.iD + "\" data-id=\"" + itemNumber + "\" ></i></li>  </ul></div>";
    }

    htmlStr += " </div><div class=\"DetailTitleparsing\"> <div class=\"DetailTitleparsinganswer\"><ul><li><span>【参考答案】</span><b>" + ckanswer + " </b></li> <li class=\"answeranswer\" style=\"display:none\" ><span>【你的答案】</span><b   id=\"" + objQuest.iD + "answer\"  >未作答</b></li>  " + ((objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") == "" || typeof (objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"")) == "undefined") ? "" : ("<li><span>【题目解析】</span><a>" + objQuest.thinking.replace(new RegExp("\\(qiuzhikejiA\\)", "gm"), "\'").replace(new RegExp("\\(qiuzhikejiB\\)", "gm"), "\"") + "</a></li>")) + "   <li><span>【统&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span><a>本题共被作答" + num + " 次，正确率" + gail + "%</a></li> </ul>  </div>";
    htmlStr += " <div class=\"DetailTitleparsingnotes\"><span>【笔&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计】</span>  <a class=\"takenotes \"><i></i>记笔记</a>     <a class=\"netfriendnotes\" data-id=\"" + objQuest.iD + "\" >查看网友笔记</a></div> ";
    htmlStr += " <div class=\"DetailTitleparsingtakenotes \"><textarea class=\"textareaval\" id=\"" + objQuest.iD + "one\"  placeholder=\"输入笔记内容...\" ></textarea>     <span>最多输入200个字</span>   <div class=\"takenotesbotton\">  <a class=\"takenotesrefer\" data-id=\"" + objQuest.iD + "\">提交</a>  <a class=\"takenotesreset\">重置</a></div>  </div>";
    htmlStr += " <div class=\"DetailTitlenetfriendnotes\" id=\"" + objQuest.iD + objQuest.iD + "\" questionid=\"" + objQuest.iD + "\"  data-id=\"" + objQuest.iD + "\"> </div></div> ";

    htmlStr += " </div>";
    $("#exam").append(htmlStr);
    //  return htmlStr;
}
